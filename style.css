*{box-sizing:border-box}html,body{margin:0;padding:0;font-family:Inter,system-ui,Arial,sans-serif}
:root{--bg:#fafafa;--panel:#ffffff;--muted:#6b7280;--line:#e5e7eb;--accent:#ef4444;--accent2:#111827}
body{background:var(--bg);color:#111}
.app-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--line);background:var(--panel);position:sticky;top:0;z-index:10}
.brand{display:flex;gap:12px;align-items:center}
.brand img{width:64px;height:64px;border-radius:12px;border:1px solid var(--line);object-fit:cover;background:#fff}
.subtitle{color:var(--muted);margin-top:-6px}
.header-actions{display:flex;gap:8px}
.btn{background:var(--accent);color:#fff;border:none;padding:10px 14px;border-radius:12px;font-weight:700;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.1)}
.btn:hover{filter:brightness(0.95)}
.btn.ghost{background:#fff;color:#111;border:1px solid var(--line)}
.tabs{display:flex;gap:6px;padding:8px;background:#fff;border-bottom:1px solid var(--line);position:sticky;top:84px;z-index:9}
.tab{padding:10px 14px;border-radius:10px;border:1px solid var(--line);background:#fff;cursor:pointer}
.tab.active{background:var(--accent);color:#fff;border-color:var(--accent)}
.tab-panel{display:none;padding:16px}
.tab-panel.show{display:block}
.ventas-layout{display:grid;grid-template-columns:1fr 360px;gap:16px}
.toolbar{display:flex;gap:8px;margin-bottom:8px}
.toolbar input, .toolbar select{flex:1;padding:10px;border:1px solid var(--line);border-radius:10px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px}
.card{background:#fff;border:1px solid var(--line);border-radius:14px;overflow:hidden;display:flex;flex-direction:column}
.card img{width:100%;height:120px;object-fit:cover;background:#f0f0f0}
.card .info{padding:10px;display:flex;flex-direction:column;gap:6px}
.price{font-weight:800}
.tag{font-size:12px;color:#fff;background:var(--accent2);padding:2px 8px;border-radius:999px;display:inline-block}
.carrito{background:#fff;border:1px solid var(--line);border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:10px;height:fit-content;position:sticky;top:140px}
.list{display:flex;flex-direction:column;gap:8px;max-height:340px;overflow:auto;border:1px dashed var(--line);border-radius:12px;padding:8px}
.item{display:grid;grid-template-columns:1fr 64px 32px 24px;gap:8px;align-items:center}
.item .name{font-weight:700}
.item .qty{display:flex;gap:6px;align-items:center;justify-content:flex-end}
.item .qty input{width:56px;padding:6px;border:1px solid var(--line);border-radius:8px}
.item .remove{cursor:pointer;color:#b91c1c}
.totales{border-top:1px solid var(--line);padding-top:10px;display:flex;flex-direction:column;gap:6px}
.totales .row{display:flex;justify-content:space-between}
.totales .total{font-size:18px}
.pago{display:grid;grid-template-columns:1fr 1fr;gap:8px;border-top:1px solid var(--line);padding-top:10px}
.pago label{display:flex;flex-direction:column;gap:6px}
.pago input, .pago select{padding:10px;border:1px solid var(--line);border-radius:10px}
.acciones-carrito{display:flex;gap:8px}
.inventario-actions,.hist-actions{display:flex;gap:8px;margin-bottom:10px}
.tabla{width:100%;border-collapse:collapse;background:#fff;border:1px solid var(--line);border-radius:14px;overflow:hidden}
.tabla th,.tabla td{border-bottom:1px solid var(--line);padding:10px;text-align:left;vertical-align:middle}
.tabla tbody tr:hover{background:#f9f9f9}
.tabla img{width:56px;height:42px;object-fit:cover;border-radius:6px;border:1px solid var(--line)}
.form{min-width:320px}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.form-grid label{display:flex;flex-direction:column;gap:6px}
menu{display:flex;justify-content:flex-end;gap:8px;margin-top:10px}
.config-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px}
.muted{color:var(--muted)}
.app-footer{padding:12px;text-align:center;color:var(--muted)}
/* Ticket 58mm */
@media print{
  body{background:#fff}
}
.ticket{
  width: 230px; /* ~58mm printers typically ~ 58mm roll with ~48mm printable area; 230px at 203dpi ~ 28mm; choose 230-280px for compact */
  padding: 8px;
  font-family: "Courier New", monospace;
  color:#000;
}
.ticket .center{text-align:center}
.ticket .bold{font-weight:700}
.ticket .line{border-top:1px dashed #000;margin:6px 0}
.ticket img{max-width:120px;display:block;margin:0 auto 6px auto}
.ticket small{font-size:11px}
@page{margin:4mm}
/* Mobile */
@media (max-width:980px){
  .ventas-layout{grid-template-columns:1fr}
  .pago{grid-template-columns:1fr}
  .config-grid,.form-grid{grid-template-columns:1fr}
}
